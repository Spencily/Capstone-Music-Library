{% extends 'base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'setlist/css/setlist.css' %}">
{% endblock %}

{% block content %}

<div class="row g-0">
    <div class="col-4 setlists">
        <div class="row g-0">
            <div class="col-6">
                <h2> My Setlists </h2>
            </div>
            <div class="col-6">
                <a href="{% url 'setlist_add' %}" class="btn btn-outline-success"> Create a Setlist </a>
            </div>
        </div>

        {% for setlist in setlists %}
        <div class="row g-0">
            <div class="col-6">
                <a href="{% url 'setlist_view' setlist.id %}"> {{setlist.title}}</a>
            </div>
            <div class="col-3">
                <a href="{% url 'setlist_edit' setlist.id %}" class="btn btn-outline-warning"> Edit </a>
            </div>
            <div class="col-3">
                <form method="post" action="{% url 'setlist_delete' setlist.id %}" class="delete-form">
                    {% csrf_token %}
                    <button type="button" class="btn btn-outline-danger delete-btn">Delete</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="col-8 setlist_view">
        {% if current_url == setlist %}
        <h2> Your Setlist Here</h2>
        {% else %}
        <h2> {{ setlist.title }} </h2>
        <table>
            <tr>
                <th> Piece </th>
                <th> Composer </th>
                <th> Arranged By </th>
                <th> Genre </th>
                <th> March Card Location </th>
                <th> Band Arrangement </th>
            </tr>
            {% for piece in setlist.pieces.all %}
            <tr>
                <td> {{ piece.title }} </td>
                <td> {{ piece.composer }} </td>
                <td> {{ piece.arranged_by }} </td>
                <td> {{ piece.genre }} </td>
                <td> {{ piece.mc_location }} </td>
                <td> {{ piece.band_arrangement }} </td>
            </tr>
            {% endfor %}
        </table>
        {% endif %}
    </div>

</div>

{% endblock %}